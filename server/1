现需要使用给定的种子（为任意长度的字符串）为一款游戏随机生成大地图，地图包含如下内容：
1.若干星系，用彩色的点表示，星系的属性包含颜色（取值为1-10）、外观类型（取值为）、坐标（x,y值，取值为小于2000的正数）通过种子算法决定。
2.星系内包含1-9颗行星，数量由种子算法决定。
3.每颗行星一定包含若干属性（尺寸（取值为1-18），5种资源的富饶度（取值为分别为1-10），外观类型（取值为1-12）），其值分别由种子算法决定。
4.每个星系和其中的每个星球都有自己的uuid，该值不由种子算法生成。
5.每个星系之间最少间隔为1，可以理解为对其了2000*2000的网格，但具体坐标从网格交点偏移了一点。


// 另一个算法需求
现需要在node中使用C++扩展实现一个战斗结果算法。战斗涉及到以下要素：
1.战斗双方，各方包含一到多个玩家，其中：
1.1 玩家拥有一定的属性，包括：
1.1.1 等级（LV），攻击方所有玩家的总等级大于防守方所有玩家的总等级，则攻击方获得10%的舰载机攻击力加成。
1.1.2 命中率加成（Sniper_Bonus）：随技能等级（1-10）提升，范围为1-10%。
1.1.3 种族加成（Race_Bonus）分为三个种族（T、N、V），其中T族玩家提供10%的舰载机命中率和护盾加成、V族玩家提供20%的舰载机命中率加成、N族玩家提供20%的舰载机护盾加成。
1.2 每名玩家拥有各自的舰队，其中舰队包括若干艘航母，每艘航母拥有独立的舰载机。其中：
1.2.1 航母拥有属性：
1.2.1.1 攻击力（Attack）（根据型号而不同）
1.2.1.2 防御力（Defense）（根据型号而不同）
1.2.1.3 航母升级配件（分为攻击、防御、速度，每种配件互斥，且只能升级到最高级20级）
1.2.1.4 舰载机加成（分为攻击加成和防御加成）（根据升级配件的种类及等级而不同）
1.2.1.5 舰载机容量（根据型号而不同）
1.2.1.6 航母等级（分为Mk1 Mk2 Mk3 Mk4）
1.2.1.7 航母用途（分为攻击、防御、运输）
1.3 每艘航母的舰载机拥有不同的配比，但总数不超过舰载机容量。
1.4 舰载机，可能被装载在航母上，也可能留存在地面上参与战斗。其中舰载机分为战斗机、轰炸机、拦截机、运输机（F、B、I、T）四种型号，各自有3个等级（1、2、3，结合型号可标记为nTypeLv，如1000F3表示1000架3级战斗机，2B1表示2架1级轰炸机，3I2+100F2表示3架2级拦截机和100架2级战斗机）、攻击力、命中率（根据自身型号、等级、目标机型号、目标机等级而区分）、护盾值、生命值、无视护盾率等属性。
1.4.1 运输机可以携带步兵，地面上也可以有步兵。两种情形的步兵都参与地面战阶段作战。（详见1.5）
1.4.2 只有轰炸机的无视护盾率不为0%。
1.4.3 轰炸机也参与地面战。
1.4.4 运输机不参与舰载机交战，但会在航母交战阶段因航母损失而随之损失。
1.5 步兵，分为基础步兵和高级步兵，都仅参与地面战阶段。
1.5.1 步兵属性包括数量、生命值、护盾值、对空攻击力。
2. 战斗场地因素，包括：
2.1 战场加成，包括：
2.1.1 行星防御科技（提供舰载机护盾加成，范围为0%-100%）
2.1.2 行星研究（提供舰载机攻击力或护盾加成）
2.2 战场宽度，影响同一回合可以参与结算的舰载机和航母数量（航母数量和舰载机数量分别受限于战场宽度，舰载机不需要随航母一起结算）
3. 战斗流程规则，（始终由防守方先手）每个回合包括：
3.1 舰载机攻击阶段：按照F、B、I三型舰载机的顺序选取一种尚存的舰载机对对方发起一轮攻击。其中：
3.1.1 目标选择偏好优先原则：F优先攻击次序为I、F、B；B优先攻击次序为F、B、I；I优先攻击次序为B、I、F。（例：1B1+1F1攻击2F1+2B1+2I1时，若该回合轮到1B1攻击，则优先攻击2F1；若该回合轮到1F1攻击，则优先攻击2I1。）
3.1.2 高等级优先原则：等级高的舰载机优先发起进攻，且优先攻击对方等级高的偏好类型舰载机。如果伤害溢出，则按偏好次序依次寻找最高级别的下一偏好舰载机（例：当前回合由100F1+100F2攻击100F1+10F2+10B2+10B1时，该回合仅由攻击方100F2攻击10F2，溢出伤害到10F1，如仍有溢出则会溢出到10B2。）
3.1.3 数值个别精确计算原则：舰载机按照所归属的航母计算各自的加成，并参与结算。
3.1.4 伤害/受伤计算模型：
3.1.4.1 总伤害输出值 = 单机基础攻击力（100%+基础攻击力加成）*单机基础命中率*（100%+命中率加成）*数量
3.1.4.2 总受伤量 = 总伤害输出值-总护盾量
3.1.4.3 防守方舰载机击坠量=向下取整（总受伤量/总生命值）
3.1.4.4 总护盾量 = 单机基础护盾值（100%+护盾值加成）*数量
3.1.4.5 总生命值 = 单机基础生命值（100%+生命值加成）*数量
3.1.5 分组选中原则：不论参战双方有多少位玩家、部署了多少航母、各自携带了多少舰载机，交战双方舰载机的数量按类型和等级分组。每个组按上述的规则选取所有玩家的舰载机开始结算。其中小组的攻击力为各自舰载机的总攻击力之和，小组的总护盾量也为各自舰载机的护盾量之和，小组的被击坠量按比例分摊到每个玩家的每艘航母上。（例：参战的3000F2中由2位玩家的各2艘不同加成值的航母携带，则这4种不同数值的F2会被作为同一参战组别选中。在发起攻击时，这3000F2须分为4种情况计算数值，并最终求和计算总伤害值。在遭受攻击时，它们求和计算总护盾值，并按比例分摊舰载机击坠。这意味着，加成属性较高的舰载机群并不能在集团作战中独善其身，其优势将被用于弥补其他较低加成的舰载机群，并因此在整个团队中稀释其优势。）
3.1.6 回合结算原则：每回合仅选中一个舰载机分组发起攻击，且不遭受反击。
3.2 航母交战阶段：
3.2.1 航母交战同样适用分组选中原则和高等级优先原则。但航母用途不会使得航母被分组分类，而只提供个别的数值加成。
3.2.2 航母击毁机制：先计算进攻方的总输出，再逐个从受击航母中取出，计算击毁和受伤。当第一个航母受伤超过生命值时，就再随机取出下一艘航母结算溢出的伤害，以此类推，直到受击方所有航母均被击毁或伤害不再溢出。
3.2.3 数值模型：
3.2.3.1 总伤害输出值=单机基础攻击力（100%+基础攻击力加成）*数量
3.2.3.2 总受伤量=总伤害输出值*（100%+组织度加成）  //（组织度加成：根据进攻方的舰载机交战结果确定，分为进攻方战胜和战败两种情况）
3.2.3.3 击毁量=向下取整（总受伤量/总生命值）
3.2.4 若整局战斗结束后，进攻方或防守方没有合法的备选撤离地，则航母战落败一方所有航母全部击毁。
3.3 地面战阶段：
3.3.1 战斗机制随轰炸机与步兵的出场情况而略有不同：
3.3.1.1 当某一方有轰炸机，而另一方有步兵时，先结算一次轰炸机对步兵造成的伤害，再根据双方是否都有步兵而计算。
3.3.1.2 当一方只有轰炸机存活时，另一方步兵会对空攻击，计算伤害值并击毁轰炸机。
3.3.1.3 当双方都有步兵时，双方步兵计算各自的总输出值，并与对方的总生命值作差，得到击毁量。战斗在一回合内结束，进攻方和防守方必定有一方全军覆没。
3.3.1.4 当某一方损失掉步兵后，地面战结束。地面战获胜的一方占领星球，使得落败一方的舰队撤离。
3.4 舰队撤离。舰队撤离决定航母交战时承受的组织度加成（或减益），在无法撤离的战斗中，组织度减益为-100%。
3.4.1 舰队撤离机制：
3.4.1.1 星球未占领撤回：进攻星球一方的舰队没有携带步兵，则每个舰队撤回进攻发起时的星球。若在到达时那个星球已被其他势力占领，则自动进入对其的战斗，那个战斗无法再撤离。
3.4.1.2 战败撤回：进攻星球一方的舰队舰载机战败，其在结算航母战损后撤回进攻发起星球。若在到达时那个星球已被其他势力占领，则自动进入对其的战斗，那个战斗无法再撤离。
3.4.1.3 星球被占领撤回：防御星球一方的舰队在结算航母战损后，撤回到玩家所属最近的星球。若在到达时那个星球已被其他势力占领，则自动进入对其的战斗，那个战斗无法再撤离。